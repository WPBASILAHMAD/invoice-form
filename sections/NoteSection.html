<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notes Form</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }

      .form-container {
        /* width: 800px; */
        border: 3px solid #ff0000;
      }

      .header {
        background-color: #e6f3ff;
        text-align: center;
        padding: 8px;
        font-weight: bold;
        border-bottom: 3px solid black;
      }

      .yellow-row {
        flex: 1;
        height: 30px;
        background-color: #ffff00;
        border-bottom: 3px solid black;
      }

      .pink-row {
        flex: 1;
        height: 30px;
        background-color: #ffe4e1;
        border-bottom: 3px solid black;
      }

      .white-row {
        flex: 1;
        height: 30px;
        border-bottom: 3px solid black;
      }

      .sections-row {
        display: flex;
        border-bottom: 2px solid black;
      }

      .section-label {
        width: 200px;
        padding: 8px;
        text-align: center;
        border-right: 3px solid black;
        font-weight: bold;
      }

      .section-cell {
        flex: 1;
        border-right: 3px solid black;
      }

      .section-cell:last-child {
        border-right: none;
      }

      .stock-row {
        display: flex;
        /* width: 100%; */
        border-bottom: 3px solid black;
      }

      .stock-label {
        width: 40%;
        padding: 8px;
        text-align: right;
        border-right: 3px solid black;
      }

      .x-mark {
        flex: 1;
        width: 100px;
        text-align: center;
        padding: 8px;
      }

      .row {
        display: flex;
        border-bottom: 2px solid black;
        height: 35px;
      }

      .row:last-child {
        border-bottom: none;
      }

      .number-cell {
        flex: 0.25;
        width: 100px;
        text-align: center;
        border-right: 3px solid black;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .total-sq-cell {
        flex: 1;
        padding: 8px;
        display: flex;
        align-items: center;
        font-weight: bold;
      }
      .total-sq-cell-1 {
        flex: 1;

        padding: 8px;
        display: flex;
        align-items: center;
        font-weight: bold;
        border: none;
      }

      .solder-cell {
        flex: 0.69;
        width: 100px;
        text-align: center;
        border-right: 3px solid black;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .empty-cell {
        flex: 0.25;
        width: 100px;
        border-right: 3px solid black;
      }

      .total-cost-cell {
        width: 150px;
        border-right: 3px solid black;
        display: flex;
        align-items: center;
        padding-left: 8px;
        font-weight: bold;
      }

      .yellow-cell {
        flex: 1;
        background-color: #ffff00;
      }

      .form-input-text {
        flex: 1;
        font-size: 16px;
        /* padding: 8px 0px 8px 0px; */

        width: 100%;
        border: none;
        outline: none;
        background-color: transparent;
      }

      /* .form-input {
              flex: 1;
            } */
    </style>
  </head>
  <body>
    <div id="note-section" class="form-container">
      <div class="header">NOTES</div>
      <div class="yellow-row form-input">
        <input class="form-input-text" type="text" />
      </div>
      <div class="pink-row form-input">
        <select class="form-input-text">
          <option value="">Select Chase Cover</option>
          <option value="1-24 BLACK CHASE COVER">
            1- 24 BLACK CHASE COVER
          </option>
          <option value="1-24 BROWN CHASE COVER">
            1- 24 BROWN CHASE COVER
          </option>
          <option value="1-24 DARK BRONZE CHASE COVER">
            1- 24 DARK BRONZE CHASE COVER
          </option>
          <option value="1-24 STAINLESS CHASE COVER">
            1- 24 STAINLESS CHASE COVER
          </option>
          <option value="1- COPPER CHASE COVER">1- COPPER CHASE COVER</option>
          <option value="1-24 WHITE CHASE COVER">
            1- 24 WHITE CHASE COVER
          </option>
          <option value="1-24 PRIMER CHASE COVER">
            1- 24 PRIMER CHASE COVER
          </option>
          <option value="1-24 GALVANIZED CHASE COVER">
            1- 24 GALVANIZED CHASE COVER
          </option>
          <option value="1-22 BLACK CHASE COVER">
            1 - 22 BLACK CHASE COVER
          </option>
        </select>
      </div>
      <div class="pink-row form-input">
        <input class="form-input-text" type="text" />
      </div>
      <div class="white-row form-input">
        <input class="form-input-text" type="text" />
      </div>

      <div class="sections-row">
        <div class="section-label">CHASE COVER<br />SECTIONS</div>
        <div class="section-cell">
          <select
            class="form-input-text"
            id="chaseCover"
            onchange="updateFields()">
            <option value="">Select Option</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="N/A">N/A</option>
          </select>
        </div>
        <div class="section-cell">
          <input class="form-input-text" type="text" />
        </div>
      </div>

      <div class="sections-row">
        <div class="section-label">STANDING SEAMS</div>

        <div class="section-cell">
          <input
            class="form-input-text"
            type="text"
            id="standingSeams1"
            readonly />
        </div>

        <div class="section-cell">
          <input
            class="form-input-text"
            type="text"
            id="standingSeams2"
            readonly />
        </div>

        <div class="section-cell">
          <input
            class="form-input-text"
            type="text"
            id="standingSeams3"
            readonly />
        </div>
      </div>

      <div class="stock-row">
        <div class="stock-label">1-CHASE COVER STOCK SIZE-</div>
        <div class="x-mark">
          <input
            class="form-input-text"
            placeholder="X"
            type="text"
            style="text-align: center" />
        </div>
      </div>

      <div class="stock-row">
        <div class="stock-label">2-STANDING COLLAR A STOCK SIZE-</div>
        <div class="x-mark">
          <input
            id="stockSize"
            readonly
            class="form-input-text"
            placeholder="X"
            type="text"
            style="text-align: center" />
        </div>
      </div>
      <script>
        function updateStockSize() {
          let selectedValue = localStorage.getItem("selectedCollarSize");

          if (!selectedValue) {
            document.getElementById("stockSize").value = "";
            return;
          }

          let numValue = parseFloat(selectedValue);
          if (isNaN(numValue)) {
            document.getElementById("stockSize").value = "Invalid";
            return;
          }

          let result = mround(numValue * 3.14159 + 0.5, 0.0625);
          document.getElementById("stockSize").value = result.toFixed(4);
        }

        function mround(value, multiple) {
          return Math.round(value / multiple) * multiple;
        }

        // Update the stock size when the input page loads
        updateStockSize();

        // Listen for updates from the dropdown page
        window.addEventListener("collarSizeUpdated", updateStockSize);
      </script>
      <div class="stock-row">
        <div class="stock-label">2-STANDING COLLAR B STOCK SIZE-</div>
        <div class="x-mark">
          <input
            class="form-input-text"
            placeholder="X"
            type="text"
            style="text-align: center" />
        </div>
      </div>

      <div class="stock-row">
        <div class="stock-label">3-STORM COLLAR A STOCK SIZE-</div>
        <div class="x-mark">
          <input
            class="form-input-text"
            placeholder="X"
            type="text"
            style="text-align: center" />
        </div>
      </div>

      <div class="stock-row">
        <div class="stock-label">3-STORM COLLAR B STOCK SIZE-</div>
        <div class="x-mark">
          <input
            class="form-input-text"
            placeholder="X"
            type="text"
            style="text-align: center" />
        </div>
      </div>

      <!-- Numbers Row -->
      <div class="row">
        <div class="number-cell">1</div>
        <div class="number-cell">2</div>
        <div class="number-cell">3</div>
        <div class="total-sq-cell-1"></div>
      </div>

      <!-- Empty Row with Total Sq. Ft. -->
      <div class="row">
        <div class="empty-cell">
          <input
            class="form-input-text"
            type="text"
            style="text-align: center" />
        </div>
        <div class="empty-cell">
          <input
            class="form-input-text"
            type="text"
            style="text-align: center" />
        </div>
        <div class="empty-cell">
          <input
            class="form-input-text"
            type="text"
            style="text-align: center" />
        </div>
        <div class="total-sq-cell">
          TOTAL SQ. FT.
          <input
            class="form-input-text"
            type="text"
            style="margin-left: 10px" />
        </div>
      </div>

      <!-- Bottom Row with Solder and Total Cost -->
      <div class="row">
        <div class="solder-cell">SOLDER</div>
        <div class="solder-cell-input">
          <input class="form-input-text" type="text" />
        </div>
        <div class="total-cost-cell">TOTAL COST</div>
        <div class="yellow-cell">
          <input class="form-input-text" type="text" />
        </div>
      </div>
    </div>
    <script>
      function updateFields() {
        let dropdownValue = document.getElementById("chaseCover").value;
        let standingSeams1 = document.getElementById("standingSeams1");
        let standingSeams2 = document.getElementById("standingSeams2");
        let standingSeams3 = document.getElementById("standingSeams3");

        if (dropdownValue === "" || dropdownValue === "N/A") {
          standingSeams1.value = "";
          standingSeams2.value = "";
          standingSeams3.value = "";
          return;
        }

        let H20 = parseInt(dropdownValue);
        if (isNaN(H20)) {
          standingSeams1.value = "Invalid";
          return;
        }

        let H21 = H20 - 1;
        standingSeams1.value = H21; // First field update (H20 - 1)

        let J8 = 100; // Assume J8 is a fixed value (modify as needed)
        let result = "";

        // Apply the complex formula logic
        if (H21 === 1) {
          result = mround((4 * J8) / 144, 0.1);
        } else if (H21 === 2) {
          result = mround((8 * J8) / 144, 0.1);
        } else if (H21 === 3) {
          result = mround((12 * J8) / 144, 0.1);
        } else if (H21 === 4) {
          result = mround((16 * J8) / 144, 0.1);
        }

        standingSeams2.value = result !== "" ? result.toFixed(2) : "";

        // Update third field
        standingSeams3.value = H21 !== "" ? "A = 2 In. X" : "";
      }

      function mround(value, multiple) {
        return Math.round(value / multiple) * multiple;
      }
    </script>
  </body>
</html>
